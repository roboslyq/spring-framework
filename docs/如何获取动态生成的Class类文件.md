# 如何获取动态生成的Class类文件

- 1、找到JDK安装路径，然后进入lib目录，例如：D:\Java\jdk1.8.0_231\lib>

- 2、执行以下命令

  - ```shell
    java -classpath sa-jdi.jar "sun.jvm.hotspot.HSDB"
    ```

    会开一个界面

    ![image-20211127234016480](%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96%E5%8A%A8%E6%80%81%E7%94%9F%E6%88%90%E7%9A%84Class%E7%B1%BB%E6%96%87%E4%BB%B6/image-20211127234016480.png)

    
    
    ![image-20211127234042729](%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96%E5%8A%A8%E6%80%81%E7%94%9F%E6%88%90%E7%9A%84Class%E7%B1%BB%E6%96%87%E4%BB%B6/image-20211127234042729.png)

- 3、File - Attach to HotSpot process 打开进程搜索框

![image-20211127234110442](%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96%E5%8A%A8%E6%80%81%E7%94%9F%E6%88%90%E7%9A%84Class%E7%B1%BB%E6%96%87%E4%BB%B6/image-20211127234110442.png)

![image-20211127234155218](%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96%E5%8A%A8%E6%80%81%E7%94%9F%E6%88%90%E7%9A%84Class%E7%B1%BB%E6%96%87%E4%BB%B6/image-20211127234155218.png)

- 查找进程ID: 另开一个cmd界面，通过命令`jps -l`来查看

  ![image-20211127234245227](%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96%E5%8A%A8%E6%80%81%E7%94%9F%E6%88%90%E7%9A%84Class%E7%B1%BB%E6%96%87%E4%BB%B6/image-20211127234245227.png)

我的当前应用是8136进程，在进程输入框中输入8136

![image-20211127234327978](%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96%E5%8A%A8%E6%80%81%E7%94%9F%E6%88%90%E7%9A%84Class%E7%B1%BB%E6%96%87%E4%BB%B6/image-20211127234327978.png)

- 查找类,tools -> Class broswer

  ![image-20211127234401288](%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96%E5%8A%A8%E6%80%81%E7%94%9F%E6%88%90%E7%9A%84Class%E7%B1%BB%E6%96%87%E4%BB%B6/image-20211127234401288.png)

![image-20211127234606550](%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96%E5%8A%A8%E6%80%81%E7%94%9F%E6%88%90%E7%9A%84Class%E7%B1%BB%E6%96%87%E4%BB%B6/image-20211127234606550.png)

- 生成类：点击具体的类，然后会进入到类明细，再点击Create .class File就会生成类Class文件，路径在当前命令执行的lib所在目录![image-20211127234712414](%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96%E5%8A%A8%E6%80%81%E7%94%9F%E6%88%90%E7%9A%84Class%E7%B1%BB%E6%96%87%E4%BB%B6/image-20211127234712414.png)

![image-20211127234844561](%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96%E5%8A%A8%E6%80%81%E7%94%9F%E6%88%90%E7%9A%84Class%E7%B1%BB%E6%96%87%E4%BB%B6/image-20211127234844561.png)

- 验证类：使用IDEA打开类文件

  ![image-20211127234930715](%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96%E5%8A%A8%E6%80%81%E7%94%9F%E6%88%90%E7%9A%84Class%E7%B1%BB%E6%96%87%E4%BB%B6/image-20211127234930715.png)

